<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
			<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<title>Roll Init</title>

    <!-- JQuery Link -->
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	 <!-- React  -->
	 <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react-dom.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.js"></script>

	<!-- Home JavaScript -->
	<!--<script type="text/javascript" src="/js/raceNotes.js"></script>-->

	<!-- Reset CSS Link -->
	<link rel="stylesheet" type="text/css" href="../css/reset.css">

    <!-- Bootstrap Link -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<!-- Font Link -->
   	<link href="https://fonts.googleapis.com/css?family=EB+Garamond|IM+Fell+English+SC|Montserrat|Playfair+Display+SC" rel="stylesheet">

    <!-- Local CSS Link -->
	<link rel="icon" href="data:;base64,iVBORw0KGgo=">
	<link rel="stylesheet" type="text/css" href="../css/all.css">
    <link rel="stylesheet" type="text/css" href="../css/char.css">
	
	<!-- Firebase Link -->
    <script src="https://www.gstatic.com/firebasejs/3.7.4/firebase.js"></script>

</head>

 <body>
		<div class="header">
			<nav class="navbar navbar-inverse navbar-static-top" role="navigation">
				<a class="navbar-brand" href="/">
					<h2>R I</h2>
				</a>
				<div class="container-fluid">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#hamburger-menu">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						</button>
					</div>
				</div>
				<div class="collapse navbar-collapse" id="hamburger-menu">
					<ul class="nav navbar-nav navbar-right">
 						<li class="nav-tab"><a class="nav-anc" href="/">Home</a></li> 
						 <li class="nav-tab"><a class="nav-anc" href="/profile">Profile</a></li>
						<li id="logout" class="nav-tab"><a class="nav-anc" href="/users/logout">Logout</a></li>

					</ul>
				</div>
				</nav>
			</div>
			
			<div id="app"></div>
<script src="../js/diceroller.js"></script>
   
<div class="container register-container" id="register-container">
	<h2 class="page-header"> Character Creator </h2>
				<div id="app"></div>
		<form method="post" action="/characters/add">
			<div class="form-group">
				<label>Name</label>
				<input type="text" class="form-control" placeholder="Georbush Algor" name="name">
			</div>
			<div class="form-group">
				<label>Age</label>
				<input type="number" min=1 class="form-control" placeholder="42" name="age">
			</div>
			<div class="form-group">
				<label>Gender</label>
				<select class="form-control" name="gender">
					<option>Male</option>
					<option>Female</option>
					<option>Other</option>
				</select>
			</div>
			<div class="form-group">
				<label>Race</label>
				<select id="select-race" class="form-control" name="race">
					<option>Dragonborn</option>
					<option>Dwarf</option>
					<option>Elf</option>
					<option>Gnome</option>
					<option>Half-Elf</option>
					<option>Half-Orc</option>
					<option>Halfling</option>
					<option>Human</option>
					<option>Tiefling</option>
				</select>
			</div>
			<div class="form-group">
				<label>Class</label>
				<select class="form-control" name="className">
					<option>Barbarian</option>
					<option>Bard</option>
					<option>Cleric</option>
					<option>Druid</option>
					<option>Fighter</option>
					<option>Monk</option>
					<option>Paladin</option>
					<option>Ranger</option>
					<option>Rogue</option>
					<option>Sorcerer</option>
					<option>Warlock</option>
					<option>Wizard</option>
				</select>
			</div>
			<div class="form-group">
				<label>Background</label>
				<select class="form-control" name="background">
					<option>Acolyte</option>
					<option>Charlatan</option>
					<option>Criminal</option>
					<option>Entertainer</option>
					<option>Folk Hero</option>
					<option>Guild Artisan</option>
					<option>Hermit</option>
					<option>Noble</option>
					<option>Outlander</option>
					<option>Sailor</option>
					<option>Soldier</option>
					<option>Urchin</option>
				</select>
			</div>
			<div class="form-group">
				<label>Level</label>
				<input type="number" min=1 class="form-control" placeholder="1" name="level">
			</div>
			<button type="submit" class="btn btn-default">Submit</button>
		</form>
	</div>
	<div id="char-preview-container">
		<textarea id="char-notes" name="character_notes" placeholder="Character Notes" cols="35" rows="30"></textarea>
	</div>
					<div class="outer-footer">
						<div class="footer row">
							<div class="col-md-12" id="footer-text">
								<div class="row footer-center-row">
									<div class="footer-textbox">
										<div class="footer-text footer-name">Roll Init <a href="https://github.com/monicaj314/rollinit">Github</a></p>
									</div>
								</div>
							</div>
						</div>
					</div>

<script type="text/javascript">
	var selectedRace = $("#select-race").val().trim();
    $("#select-race").on("change", function() {
		selectedRace = $("#select-race").val();
		 $.get("/apiRace/" + selectedRace, function(data) {
		function raceNotes() {
		$("#char-notes").empty();
		$("#char-notes").append(selectedRace,
	"\n==============================\n"); 
};
    if (data) {
		console.log(data);
		raceNotes();
        $("#char-notes").append(data.statsBonus.desc +
		 "\n==============================\n");
		getRacial();
		getWeapons();
		getLanguage();

		function getRacial(){
			var racial = data.racialTraits;
			var traits = [];
			for (var i = 0; i < racial.length; i++) {
				traits.push(racial[i].name + ": " + racial[i].desc + "\n");
			} if (racial.length > 0){
			$("#char-notes").append("** Special Trait(s) ** \n" + traits.join("," , "") + "\n\n");
		} 

	};

		function getWeapons(){
			var weapons = data.startingProfs;
			var profs = [];
			for (var i = 0; i < weapons.length - 1; i++) {
				profs.push(weapons[i].name + "\n")
			} if (profs.length > 0){
		 $("#char-notes").append("** Weapon Proficiencies ** \n" + profs.join("," , "")); 
			}
	};

	function getLanguage(){
			var generic = data.genericTraits;
			var traitDesc = [];
			for (var i = 0; i < generic.length; i++){
				var language = generic[i].languageDesc;
				if (language !== undefined){
					language = language;
				}
			} 
		 $("#char-notes").append("** Language Skills ** \n" + language); 
	};
}
      });
    });
  </script>

	</body>
</html>
